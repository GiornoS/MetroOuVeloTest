<!DOCTYPE html>
<html ng-app="app">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>Métro ou Vélo ? VERSION DE TEST</title>

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

   	<!-- google maps javascript for the autocomplete module -->
   	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&language=fr"></script>
    
    <!-- Importation du javascript -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>

    <script src="js/ng-cordova.js"></script>
    <script src="cordova.js"></script>
    
    <script src="js/angular.js"></script>
    <script src="js/app.js"></script>    
    <script src="js/WeatherCtrl.js"></script>

</head>
  

  
<body ng-controller="WeatherCtrl">
	
    <!-- Le bandeau supérieur avec le nom de l'application -->
	<ion-header-bar class="bar-positive">
		<h1 class="title"><center> Définir une adresse</center></h1>
	</ion-header-bar>
	
	<ion-content>

	<div class="tabs tabs-positive tabs-footer">
		<a class="tab-item">
			Définir une adresse
		</a>
		<a class="tab-item" href="templates/Definir_un_trajet.html">
			Définir un trajet
		</a>
	</div>

	
	
		<div class="list list-inset">

			<label class="item item-input city_search">
				<i class="icon ion-search placeholder-icon"></i>
				<input type="search" placeholder="Où voulez-vous aller ?" ng-model="city" name="city" id="city">
			</label>
            <!-- Input de l'heure de départ -->
            <label class="item item-input item-select hour_select">
                <div class="input-label">
                  à
                </div>
               <div ng-init="heures=[01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]">
                <select ng-model="heure_choisie" 
            ng-options="h as h for h in heures">
                  <option value=""></option>
                </select>
              </div>
            </label>
            <label class="item item-input item-select minute_select">
                <div class="input-label">
                    :
                </div>
                <div ng-init="minutes=[01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60]">
                    <select ng-model="minute_choisie" 
            ng-options="m as m for m in minutes">
                  <option value=""></option>
                    </select>
                </div>
            </label>
		</div>
        
        		<div class="list">

			<div class="item">

				{{ data.date }} <br>

				<button class="button button-block button-positive"
					ng-click="pick('date')">pick date</button>
			</div>

			<div class="item">

				{{ data.time }} <br>

				<button class="button button-block button-positive"
					ng-click="pick('time')">pick time</button>

			</div>

		</div>

		<center>
			<button ng-click="geolocate()" class="button button-outline button-positive geolocaliserButton">
				Géolocaliser
			</button>
			<button ng-click="searchWeather(address_autocomplete)" class="button button-outline button-positive validerButton">
				Valider
			</button>
		</center>

	<!-- Affichage de la météo, de la date au format jj/mm à hh:mm, de l'icône -->
	<div class="list liste_temperature" ng-repeat="h in weather.hourly.data">
		<center>
			<a class="item">
				<img src="res/weather_icon/{{h.icon}}.png" class="weather_icon">
				<strong class="affichage_date">{{h.time*1000 | date:'EEE'}}</strong>
                {{h.time*1000 | date:"dd/MM 'à' HH:mm"}}
				<br /><strong>{{Math.round(h.temperature)}}°C</strong>					
			</a>	
		</center>
	
	</div>
	
</ion-content>		
		
</body>
</html>
