<!DOCTYPE html>
<html ng-app="carte">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
	<title>Métro ou Vélo ? VERSION DE TEST</title>

	<link href="lib/ionic/css/ionic.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
<!--    <link href="css/Angucomplete.css" rel="stylesheet">-->

   	<!-- google maps javascript -->
   	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,places&language=fr"></script>

    
    
	<!-- Importation du js -->
	<script src="lib/ionic/js/ionic.bundle.min.js"></script>

    <script src="lib/ngCordova/dist/ng-cordova.min.js"></script>
    <script src="cordova.js"></script>
    
    
    
<!--
    <script src="js/minify/DirectionCtrlMini.js"></script>
-->
	<script src="js/app.js"></script>    
    <script src="js/markerclusterer_packed.js"></script>
<!--    <script src="js/ngAutocomplete.js"></script>
    <script src="js/Angucomplete.js"></script>-->
	<script src="js/DirectionCtrl.js"></script>
    
</head>

  
<body class="body" ng-controller="DirectionCtrl">
	
        
    <!-- Le bandeau supérieur avec le nom de l'application -->
    <ion-header-bar class="bar-positive header_definir_un_trajet">
        <h1 class="title"><center>{{Titre_Recommandation}}</center></h1>
    </ion-header-bar>
<ion-content>

	 <div class="list card definir_un_trajet_card" ng-show="show_card_definir_un_trajet">
		<div class="item item-divider definir_un_trajet_titre_card">
			<center>Définir un trajet</center>
		</div>
		<div class="item item-body">
			<div class="list list-inset">
	
                

                <label class="item item-input search_start">
					<i class="icon ion-search placeholder-icon"></i>
					<input type="search" placeholder="D'où partez vous ?" id="city_start" name="city_start" ng-model="city_start" />              
				</label>       
                <label class="item item-input search_start">
					<i class="icon ion-search placeholder-icon"></i>
					<input type="search" placeholder="Où voulez-vous aller ?" id="city_end" name="city_end" ng-model="city_end" />              
				</label>
                
                
<!--				<label class="item item-input search_start">
					<i class="icon ion-search placeholder-icon"></i>
					<input type="search" placeholder="D'où partez vous ?" id="city_start" name="city_start" ng-model="city_start" class="form-control" ng-autocomplete options="optionsAutocomplete" details="detailsCityStart"/>              
				</label>
                
                

                
				<label class="item item-input search_end">
					<i class="icon ion-search placeholder-icon"></i>
                    <input type="search" placeholder="Où voulez-vous aller ?" id="city_end" name="city_end" ng-model="city_end" class="form-control" ng-autocomplete options="optionsAutocomplete" details="detailsCityEnd"/>  
				</label>-->
            </div>

            <div class="heure_de_depart">
                Départ à :
                <button class="button button-clear hour_select_definir_un_trajet" ng-click="openDatePicker()">
                    {{heure_choisie}} : {{minute_choisie}}
                </button>
                <a class="button button-icon icon ion-android-stopwatch clock_depart" ng-click="setTime()"></a>
                
                
<!--      
      <div class="large-padded-row">

        <h3><a name="example5" class="page-anchor">Example 5 - Using GitHub Search API</a></h3>
        <div class="padded-row">
          <div angucomplete-alt id="ex5" placeholder="Search projects" pause="500" selected-object="selectedProject" remote-url="https://maps.googleapis.com/maps/api/place/autocomplete/json?key=AIzaSyBy-Xg2JDN48ac6-MvbgxO6zxLEAb2oKps&input=" remote-url-data-field="predictions" title-field="description"  minlength="2"> --><!-- input-class="form-control form-control-small" match-class="highlight"-->
<!--          </div> 
        </div>
        <div class="result">
          <div class="" ng-show="selectedProject">
            Repository: <span class="bold-span">{{selectedProject.originalObject.git_url}}</span>
          </div>
        </div>

      </div>
               --> 
                
            
                <center>
                    <button ng-click="calculate(placeStart, placeEnd, minute_choisie, heure_choisie)" class="button button-outline button-positive validerButtonTrajet">
                        Valider
                    </button>
                </center>
            </div>
		</div>
         
         

	</div>        
    

    <!-- Carte de recommandation qui s'affiche après avoir calculé le trajet  -->
    <div class="card card_recommandation" ng-show="show_card_recommandation">
        <div class="item item-text-wrap text_recommandation">
            <!-- Montrer l'icône d'un vélo ou d'un métro !-->
<!--
            <i class="icon ion-android-bicycle"></i>
-->
            <!-- On affiche la recommandation ainsi que la distance à pied entre la station de vélib la plus proche et la durée du trajet -->
            <div>Station de Vélib la plus proche à : {{donneesVelibPlusProche.distance.value}} m ({{donneesVelibPlusProche.duration.text}})</div>
        </div>
    </div>

    <!-- Affichage de l'objet map de l'api google (affichage de la carte) -->
    <map id="map" class="map_animation" ng-class="{big_map : sizeMap=='big', small_map : sizeMap=='small'}" data-tap-disabled="true" on-touch="reloadMap()"></map>
    

    
    
    
    <!-- Affichage des boutons de géolocalisation et de définition du trajet -->
	<img class="button button-icon icon" src="res/img/android-locate-bis.png" id="geolocate_button" ng-click="centerOnMe()"></img>
	<img class="button button-icon icon" src="res/img/android-navigate-bisbis.png" id="navigate_button" ng-click="showCard()"></img>	
    <img class="button button-icon icon" src="res/img/android-bicycle-button.png" id="bicycle_button" ng-click="displayVelibStations()"></img>


	<!--Footer qui affiche le temps de trajet et la distance   -->
	<div class="list card footer_card_definir_un_trajet" ng-show="show_donnees_du_trajet">
		<!--On ne montre le résultat que si un trajet a été rentré, d'où le ng-show-->
        <div class="item tabs tabs-secondary tabs-icon-left" ng-click="openModal()">
            <a class="tab-item">
              <i class="icon ion-map"></i>
              <strong style="font-size:130%;">{{donnees_du_trajet.routes[0].legs[0].distance.text}}</strong>
            </a>
            <a class="tab-item">
              <i class="icon ion-clock"></i>
              <strong style="font-size:130%;">{{donnees_du_trajet.routes[0].legs[0].duration.text}}</strong>
                
            </a>
            
            <!-- Modal qui va afficher-->
            <script id="my-modal.html" type="text/ng-template">
                <ion-modal-view class="modal modal_affichage_trajet" on-click="closeModal()">
                    <div no-tap-scroll="true" class="bar bar-header header_panel">
                        <h1 class="title"> 
                            <div class="km_modal" ng-click="closeModal()">
                                <i class="icon ion-map"></i>
                                <strong style="font-size:130%;">{{donnees_du_trajet.routes[0].legs[0].distance.text}}</strong>
                            </div>
                            <div class="h_modal" ng-click="closeModal()">
                                <i class="icon ion-clock"></i>
                                <strong style="font-size:130%;">{{donnees_du_trajet.routes[0].legs[0].duration.text}}</strong>
                            </div>
                        </h1>
                    </div>
                    <div id="PanelTrajet" class="PanelTrajet">
                    </div>
                </ion-modal_view>
            </script>
        </div>
    </div>
<!--                       <ion-list>
                            <ion-item ng-repeat="step in donnees_du_trajet.routes[0].legs[0].steps" class="item_liste_trajet">
                            {{step.instructions}}
                            <i class="icon ion-map"></i>
                            {{step.distance.text}}
                            <i class="icon ion-clock"></i>
                            {{step.duration.text}}
                            </ion-item>
                        </ion-list>-->
	</ion-content>
	
		

		




</body>

</html>

